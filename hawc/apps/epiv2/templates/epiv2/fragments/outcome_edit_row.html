{% load crispy_forms_tags %}

<tr hx-target="this" hx-swap="outerHTML" class="outcome-{{object.pk}}" id="outcome-empty-row">
    {% if form %}
    <td colspan="4">
        <form method=post enctype="multipart/form-data" class="border my-2 p-2 pb-5">
            {% crispy form %}
            <div class="form-row pull-right">
                {% if form.instance.id %}
                <button class="btn btn-sm btn-info" hx-post="{% url 'epiv2:outcome-update' object.pk %}"
                    hx-encoding="multipart/form-data">
                    Save</button>
                <button class="btn btn-sm btn-light" hx-get="{% url 'epiv2:outcome-detail' object.pk %}">
                    <i class="fa fa-fw fa-times mr-1"></i>
                    Cancel</button>
                {% else %}
                <button class="btn btn-sm btn-info" hx-post="{% url 'epiv2:outcome-create' parent.pk %}"
                    hx-encoding="multipart/form-data">
                    Save
                </button>
                <button class="btn btn-sm btn-light" type='button'
                    onclick="this.parentNode.parentNode.parentNode.setAttribute('style', 'display: none')"><i
                        class="fa fa-fw fa-times mr-1"></i>
                    Cancel</button>
                {% endif %}
            </div>
        </form>
        {% block extrajs %}
        <script type="text/javascript">
            $(document).ready(function () {
                $('.html5text').quillify();
                $('.html5text').removeClass('html5text');
            });
        </script>
        {% endblock extrajs %}
    </td>
    {% endif %}
</tr>
