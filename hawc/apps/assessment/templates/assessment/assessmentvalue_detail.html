{% extends 'assessment-rooted.html' %}

{% load hawc %}

{% block content %}
{% if crud == "Read" %}
<div class="dropdown btn-group float-right">
    <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown">Actions</a>
    <div class="dropdown-menu dropdown-menu-right">
        {% if obj_perms.edit %}
        <a class="dropdown-item" href="{% url 'assessment:values-update' object.pk %}">Update</a>
        <a class="dropdown-item" href="{% url 'assessment:values-delete' object.pk %}">Delete</a>
        {% endif %}
    </div>
</div>
{% endif %}
<h3>Assessment Value for {{object.assessment}}</h3>
<table class="table table-sm table-striped">
    <colgroup>
        <col style="width: 30%;">
        <col style="width: 70%;">
    </colgroup>
    <tbody>
        {% optional_table_row "Evaluation Type" object.get_evaluation_type_display %}
        {% optional_table_row "System or health effect basis" object.system %}
        {% optional_table_row "Value Type" object.get_value_type_display %}
        <tr>
            <th>Value</th>
            <td>{{object.value}} {{object.value_unit|default:""}}</td>
        </tr>
        {% optional_table_row "Overall confidence" object.confidence %}
        {% optional_table_row "Value Duration" object.duration %}
        {% optional_table_row "Basis" object.basis %}
        {% optional_table_row "POD type" object.pod_type %}
        {% if object.pod_value %}
        <tr>
            <th>POD Value</th>
            <td>{{object.pod_value|default:""}} {{object.pod_unit|default:""}}</td>
        </tr>
        {% endif %}
        {% if object.show_noncancer_fields %}
        {% optional_table_row "Composite uncertainty factor" object.get_uncertainty_display %}
        {% endif %}
        {% optional_table_row "Species studied" object.species_studied|default:"" %}
        {% if object.study %}
        <tr>
            <th>Key Study</th>
            <td><a href="{{object.study.get_absolute_url}}">{{object.study}}</a></td>
        </tr>
        {% endif %}
        {% if object.show_cancer_fields %}
        {% optional_table_row "Tumor type" object.tumor_type %}
        {% optional_table_row "Extrapolation method" object.extrapolation_method %}
        {% endif %}
        {% optional_table_row "Evidence characterization" object.evidence %}
        {% if object.show_cancer_fields %}
        {% optional_table_row "ADAF applied?" object.adaf %}
        {% optional_table_row "Non-ADAF adjusted value" object.non_adaf_value %}
        {% endif %}
        {% optional_table_row "Comments" object.comments %}
        {% for key, value in object.extra.items %}
        <tr>
            <th>{{key}}</th>
            <td>{{value}}</td>
        </tr>
        {% empty %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}
