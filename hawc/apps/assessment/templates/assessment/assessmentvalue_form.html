{% extends 'assessment-rooted.html' %}

{% load crispy_forms_tags %}

{% block content %}
<div class="d-flex justify-content-end">
    {% include "common/scientific_pulldown.html" %}
</div>
{% crispy form %}
{% endblock %}

{% block extrajs %}
<script type="text/javascript">
    $(document).ready(function () {
        var eval_type = $('#id_evaluation_type'),
            showRelevantFields = function(){
                selected_eval_type = eval_type.find(':selected').text();
                if (selected_eval_type == "Cancer") {
                    $('#div_id_uncertainty').hide();
                    $('#div_id_tumor_type').show();
                    $('#div_id_extrapolation_method').show();
                    $('#div_id_adaf').show();
                }
                if (selected_eval_type == "Noncancer") {
                    $('#div_id_uncertainty').show();
                    $('#div_id_tumor_type').hide();
                    $('#div_id_extrapolation_method').hide();
                    $('#div_id_adaf').hide();
                }
                if (selected_eval_type == "Cancer and Noncancer") {
                    $('#div_id_uncertainty').show();
                    $('#div_id_tumor_type').show();
                    $('#div_id_extrapolation_method').show();
                    $('#div_id_adaf').show();
                }
            };
        eval_type.on('change', showRelevantFields).trigger('change');

        var adaf = $('#id_adaf'),
            showAdafHelpText = function () {
                if (adaf.is(':checked')) {
                    $('#hint_id_comments').text("In addition to any other comments, describe the ADAF reasoning, e.g. supporting text about the mutagenic mode of action");
                }
                else {
                    $('#hint_id_comments').text("");
                }
            };
        adaf.on('change', showAdafHelpText).trigger('change');
    });
</script>
{% endblock extrajs %}
