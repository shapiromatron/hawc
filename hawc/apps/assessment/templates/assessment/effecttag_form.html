{% extends 'crumbless.html' %}

{% load add_class %}
{% load selectable_tags %}

{% block extrastyle %}
  {% include_ui_theme %}
{% endblock %}

{% block content %}
<form class="form-horizontal" action="." method="post">
    {% csrf_token %}
    <div class='row'>
      <fieldset>
        <legend>Create new effect tag</legend>
        <span class="form-text text-muted">Create a new effect tag. Effect tags are used for describing animal bioassay, epidemiological, or <i>in vitro</i> endpoints. Please take care not to duplicate existing effect tags.</span><br>

        {{ form.non_field_errors|add_class:"alert alert-danger" }}

        {% for field in form %}
          <div class="form-group form-row">
            {{field.label_tag|add_class:"control-label"}}
            {{field}}
            <span class='text-muted'>{{field.help_text}}</span>
            {{field.errors|add_class:"alert alert-danger"}}
          </div>
        {% endfor %}
      </fieldset>
    </div>
    <div class="row">
      <div class="form-actions">
        <button id='submit_form' type="submit" class="btn btn-primary">{{ crud }}</button>
      </div>
    </div>
  </form>
{% endblock content %}

{% block extrajs %}
  {{ form.media }}
  <script type="text/javascript">
    $(document).ready(function(){
      $('#id_name').on('keyup', function(){
        $('#id_slug').val(window.app.utils.HAWCUtils.urlify($(this).val(), 50));
      });
    });
  </script>
{% endblock extrajs %}
