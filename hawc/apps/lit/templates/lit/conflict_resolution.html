{% extends 'assessment-rooted.html' %}

{% load bs4 %}
{% block content %}
<div class="d-flex">
    <h2>Resolve Tag Conflicts</h2>
    {% actions %}
    <a class="dropdown-item" data-toggle="modal" data-target="#bulk_merge_form">Bulk Merge Conflicts</a>
    {% endactions %}
</div>
{% include "lit/bulk_merge_modal.html" with modal_id='bulk_merge_form' modal_size='modal-lg' %}
{% include 'common/inline_filter_form.html' %}
<ul class="list-group list-group-flush my-3">
    {% for ref in object_list %}
    <li class="list-group-item conflict-reference-li {% if forloop.first %} pb-4 {% else %} py-4 {% endif %}"
        id="ref-form-{{ref.pk}}" hx-target="#ref-form-{{ref.pk}}" hx-swap="delete swap:1s">
        {% include 'lit/_reference_with_tags.html' with conflict_resolution=True show_actions=True show_user_tags=True %}
    </li>
    {% empty %}
    <li class="list-group-item">
        <div class="alert alert-warning">
            <i class='fa fa-fw fa-exclamation-triangle mr-1'></i>&nbsp;No conflicts found.
        </div>
    </li>
    {% endfor %}
</ul>
{% include "includes/paginator.html" with plural_object_name="conflicts" %}
{% endblock content %}

{% block extrajs %}
{% include "common/helptext_popup_js.html" %}
{% endblock extrajs %}
